<svg xmlns="http://www.w3.org/2000/svg" width="{{ width }}" height="{{ height }}">{#### vertical stripes ####} {% for day in range(numdays) %} {% if not day % 2 %}<rect width="{{ (gwidth/numdays) }}" height="{{ height }}" x="{{ x((day+1)/numdays) }}" fill="#f0f0f0"/>{% endif %} {% endfor %} {#### vertical lines ####} {% for line in range(numdays*4-1) %} {% if line % 4 == 3 %}<line x1="{{ x((line+1)/numdays/4) }}" x2="{{ x((line+1)/numdays/4) }}" y1="0" y2="{{ gheight }}" stroke="silver"/>{% else %}<line x1="{{ x((line+1)/numdays/4) }}" x2="{{ x((line+1)/numdays/4) }}" y1="0" y2="{{ height }}" stroke="#e0e0e0"/>{% endif %} {% endfor %} {#### horizontal lines ####} {% for ytick in yticks %}<line x1="0" x2="{{ gwidth }}" y1="{{ y(ytick[0]) }}" y2="{{ y(ytick[0]) }}" stroke="silver"/>{% endfor %} {#### line ####}<g stroke="{{ color }}" stroke-linecap="round" stroke-width="3">{% for point in points %} {% if not loop.first %} {% set prev = points[loop.index0-1] %}<line x1="{{ x(point[0]) }}" x2="{{ x(prev[0]) }}" y1="{{ y(point[1]) }}" y2="{{ y(prev[1]) }}"/>{% endif %} {% endfor %}</g>{#### labels ####}<g fill="#000" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11" text-anchor="middle">{% for day in range(0, numdays - 1) %}<text x="{{ x((day+1)/numdays) }}" y="{{ height - 5 }}">-{{ day+1 }}d</text>{% endfor %}</g><g fill="#000" font-family="DejaVu Sans,Verdana,Geneva,sans-serif" font-size="11" text-anchor="left">{% for ytick in yticks %}<text x="{{ gwidth + 2 }}" y="{{ y(ytick[0]) + 3 }}" alignment-baseline="middle">{{ ytick[1] }}</text>{% endfor %}</g></svg>